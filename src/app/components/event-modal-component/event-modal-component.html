<div class="modal-overlay" (click)="onOverlayClick($event)">
    <div class="modal-container">
        <div class="modal-header">
            <h2>{{ isEditMode ? 'Edit Event' : 'New Event' }}</h2>
            <button class="close-btn" (click)="onClose()">Ã—</button>
        </div>

        <form class="modal-body" (ngSubmit)="onSubmit()">
            <div class="form-group">
                <label for="title">Title *</label>
                <input type="text" id="title" [(ngModel)]="formData.title" name="title" class="form-control"
                    placeholder="Event title" required>
            </div>

            <div class="form-group">
                <label for="description">Description</label>
                <textarea id="description" [(ngModel)]="formData.description" name="description" class="form-control"
                    rows="3" placeholder="Add description"></textarea>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="startDate">Start Date *</label>
                    <input type="date" id="startDate" [(ngModel)]="formData.startDate" name="startDate"
                        class="form-control" required>
                </div>

                <div class="form-group">
                    <label for="startTime">Start Time *</label>
                    <input type="time" id="startTime" [(ngModel)]="formData.startTime" name="startTime"
                        class="form-control" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="endDate">End Date *</label>
                    <input type="date" id="endDate" [(ngModel)]="formData.endDate" name="endDate" class="form-control"
                        required>
                </div>

                <div class="form-group">
                    <label for="endTime">End Time *</label>
                    <input type="time" id="endTime" [(ngModel)]="formData.endTime" name="endTime" class="form-control"
                        required>
                </div>
            </div>

            <div class="form-group">
                <label for="location">Location</label>
                <input type="text" id="location" [(ngModel)]="formData.location" name="location" class="form-control"
                    placeholder="Add location">
            </div>

            <div class="form-group">
                <label>Color</label>
                <div class="color-picker">
                    @for (color of colors; track $index) {
                    <label class="color-option"
                        [class.selected]="formData.color === color.value">
                        <input type="radio" [(ngModel)]="formData.color" name="color" [value]="color.value">
                        <span class="color-swatch" [style.background-color]="color.value"></span>
                    </label>
                    }
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" (click)="onClose()">
                    Cancel
                </button>
                @if(isEditMode){
                <button type="button" class="btn btn-danger" (click)="onDelete()">
                    Delete
                </button>
                }

                <button type="submit" class="btn btn-primary">
                    {{ isEditMode ? 'Save Changes' : 'Create Event' }}
                </button>
            </div>
        </form>
    </div>
</div>