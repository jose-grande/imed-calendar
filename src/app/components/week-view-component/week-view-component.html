<div class="week-view">
    <div class="week-header">
        <div class="time-column-header"></div>
        @for (day of weekDays; track $index) {
        <div class="day-header" [class.today]="day.isToday">
            <div class="day-name">{{ day.date | date:'EEE' }}</div>
            <div class="day-date" [class.today-date]="day.isToday">{{ day.date | date:'d' }}</div>
        </div>
        }

    </div>

    <div class="week-body">
        <div class="time-column">
            @for (hour of hours; track $index) {
            <div class="time-slot">
                <span class="time-label">{{ formatHour(hour) }}</span>
            </div>
            }
        </div>

        <div class="days-container">
            @for (day of weekDays; track $index) {
            <div class="day-column">
                @for (hour of hours; track hour) {
                <div class="hour-slot" (click)="onTimeSlotClick(day.date, hour)">
                </div>
                }
                <div class="events-container">
                    @for (event of day.events; track event) {
                    <div class="week-event" [style]="getEventStyle(event)"
                        (click)="onEventClick(event, $event)">
                        <div class="event-content">
                            <div class="event-title">{{ event.title }}</div>
                            <div class="event-time-range">
                                {{ event.startTime | date:'h:mm a' }} - {{ event.endTime | date:'h:mm a' }}
                            </div>
                        </div>
                    </div>
                    }
                </div>
            </div>
            }
        </div>
    </div>
</div>